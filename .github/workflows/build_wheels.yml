name: build_wheels

on:
  workflow_dispatch:
    inputs:
      is_release:
        description: "Set to true if a release version."
        required: true
        default: false
        type: boolean
      sha:
        description: "The git SHA to use for release.  Only set if needing to publish"
        required: false
        default: ""
        type: string
      version:
        description: "The Release version.  Allowed format: x.y.z[-alphaN | -betaN | -rcN | -devN | -postN]"
        required: false
        default: ""
        type: string
      cxx_change:
        description: "The PR number or SHA if wanting to build against a PR/SHA in the C++ SDK"
        required: false
        type: string

env:
  DEFAULT_PYTHON: "3.9"
  PYTHON_VERSIONS: "3.9,3.10,3.11,3.12,3.13"
  X86_64_PLATFORMS: "manylinux2014,musllinux_1_1,macosx,win"
  ARM64_PLATFORMS: "manylinux2014,macosx"

jobs:
  general-info:
    runs-on: ubuntu-22.04
    steps:
      - name: Output workflow info
        run: |
          echo "Workflow Run ID=${{ github.run_id }}"
          echo "is_release=${{ inputs.is_release }}"
          echo "SHA=${{ inputs.sha }}"
          echo "version=${{ inputs.version }}"
          echo "cxx_change=${{ inputs.cxx_change }}"
          echo "DEFAULT_PYTHON=${{ env.DEFAULT_PYTHON }}"
          echo "PYTHON_VERSIONS=${{ env.PYTHON_VERSIONS }}"
          echo "X86_64_PLATFORMS=${{ env.X86_64_PLATFORMS }}"
          echo "ARM64_PLATFORMS=${{ env.ARM64_PLATFORMS }}"